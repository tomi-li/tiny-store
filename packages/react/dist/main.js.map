{"version":3,"sources":["webpack://TinyStore/webpack/universalModuleDefinition","webpack://TinyStore/webpack/bootstrap","webpack://TinyStore/external \"react\"","webpack://TinyStore/./node_modules/lodash/isFunction.js","webpack://TinyStore/./node_modules/lodash/_Symbol.js","webpack://TinyStore/./node_modules/lodash/isNil.js","webpack://TinyStore/./node_modules/prop-types/index.js","webpack://TinyStore/./node_modules/lodash/_baseGetTag.js","webpack://TinyStore/./node_modules/lodash/_root.js","webpack://TinyStore/./node_modules/lodash/_freeGlobal.js","webpack://TinyStore/(webpack)/buildin/global.js","webpack://TinyStore/./node_modules/lodash/_getRawTag.js","webpack://TinyStore/./node_modules/lodash/_objectToString.js","webpack://TinyStore/./node_modules/lodash/isObject.js","webpack://TinyStore/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://TinyStore/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://TinyStore/./src/lodash.js","webpack://TinyStore/./src/store.js","webpack://TinyStore/./src/preset-models/loading.js","webpack://TinyStore/./src/TinyStoreProvider.js","webpack://TinyStore/./src/index.js"],"names":["StoreContext","React","createContext","connect","mapState","mapDispatch","Component","props","useContext","state","dispatch","mergedProps","_","combineStores","object","gstate","geffects","greducers","Object","entries","key","value","reducers","effects","reducer","action","type","payload","split","namespace","actionType","globalDispatch","window","__vmate_app_dispatch","targetEffect","targetReducer","promise","Error","then","targetResult","console","warn","loading","update","Index","propTypes","models","PropTypes","isRequired","children","useMemo","initialState","useReducer","TinyStoreProvider"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA,gD;;;;;;ACAA,iBAAiB,mBAAO,CAAC,CAAe;AACxC,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA,WAAW,mBAAO,CAAC,CAAS;;AAE5B;AACA;;AAEA;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,KAAqC,EAAE,qCAO1C;AACD;AACA;AACA,mBAAmB,mBAAO,CAAC,EAA4B;AACvD;;;;;;;;;;;;;;AClBA,aAAa,mBAAO,CAAC,CAAW;AAChC,gBAAgB,mBAAO,CAAC,EAAc;AACtC,qBAAqB,mBAAO,CAAC,EAAmB;;AAEhD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA,iBAAiB,mBAAO,CAAC,CAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;;;;;;;ACRA;AACA;;AAEA;;;;;;;;ACHA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACnBA,aAAa,mBAAO,CAAC,CAAW;;AAEhC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,2BAA2B,mBAAO,CAAC,EAA4B;;AAE/D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;A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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TinyStore\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"TinyStore\"] = factory(root[\"react\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import isFunction from 'lodash/isFunction';\nimport isNil from 'lodash/isNil';\n\nexport {\n  isFunction,\n  isNil,\n};\n","import React, { useContext } from 'react';\nimport * as _ from './lodash';\n\nexport const StoreContext = React.createContext();\n\nexport const connect = (mapState, mapDispatch) => {\n  return function (Component) {\n    return (props) => {\n      const { state, dispatch } = useContext(StoreContext);\n\n      let mergedProps = { ...props };\n\n      if (_.isFunction(mapState)) {\n        mergedProps = { ...mergedProps, ...mapState(state) };\n      }\n\n      if (_.isFunction(mapDispatch)) {\n        mergedProps = { ...mergedProps, ...mapDispatch(dispatch) };\n      }\n\n      return <Component {...mergedProps} />;\n    };\n  };\n};\n\nexport const combineStores = (object) => {\n  let gstate = {}, geffects = {}, greducers = {};\n\n  // 合并数据处理\n  for (const [key, value] of Object.entries(object)) {\n    const { state, reducers, effects } = value;\n    gstate = { ...gstate, [key]: state };\n    geffects = { ...geffects, [key]: effects };\n    greducers = { ...greducers, [key]: reducers };\n  }\n\n  // 处理 reducer\n  function reducer(state, action) {\n    const { type, payload } = action;\n    const [namespace, actionType] = type.split('/');\n    const globalDispatch = window.__vmate_app_dispatch;\n\n    const targetEffect = geffects[namespace] && geffects[namespace][actionType];\n    const targetReducer = greducers[namespace] && greducers[namespace][actionType];\n\n    if (_.isFunction(targetEffect)) {\n      globalDispatch({\n        type: 'loading/update',\n        payload: { [type]: true }\n      });\n      const promise = targetEffect(state[namespace], payload, globalDispatch);\n      if (_.isNil(promise)) throw new Error('invalid effect. return without promise');\n      promise.then(() => {\n        globalDispatch({\n          type: 'loading/update',\n          payload: { [type]: false }\n        });\n      });\n      return state;\n    } else if (_.isFunction(targetReducer)) {\n      const targetResult = targetReducer(state[namespace], payload);\n      return { ...state, [namespace]: targetResult };\n    }\n\n    // 默认处理, 如果什么都没触发\n    console.warn(`nothing find with action ${type}`);\n    return state;\n  }\n\n  return [reducer, gstate];\n};\n","export const loading = {\n  state: {},\n  reducers: {\n    update(state, payload) {\n      return {\n        ...state,\n        ...payload,\n      };\n    }\n  },\n};\n","import { combineStores, StoreContext } from './store';\nimport { loading } from './preset-models/loading';\nimport React, { useReducer, useMemo } from 'react';\nimport PropTypes from 'prop-types';\n\nIndex.propTypes = {\n  models: PropTypes.object.isRequired,\n};\n\nexport default function Index(props) {\n  const { children, models } = props;\n  const [reducer, initialState] = useMemo(() => combineStores({ loading, ...models }), [models]);\n  const [state, dispatch] = useReducer(reducer, initialState);\n  window.__vmate_app_dispatch = dispatch;\n\n  return (\n    <StoreContext.Provider value={{ state, dispatch }}>\n      {children}\n    </StoreContext.Provider>\n  );\n}\n","import TinyStoreProvider from './TinyStoreProvider';\nimport { connect } from './store.js';\n\nexport default TinyStoreProvider;\n\nexport {\n  connect\n};\n"],"sourceRoot":""}